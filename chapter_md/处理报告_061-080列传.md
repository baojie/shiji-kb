# 《史记》列传 061-080 批量处理报告

## 处理概览

- **处理日期**: 2026-02-06
- **章节范围**: 061_伯夷列传 至 080_乐毅列传
- **章节数量**: 20个列传
- **处理状态**: 全部成功 ✓

## 章节清单

| 序号 | 章节编号 | 章节名称 | 输出文件 |
|------|----------|----------|----------|
| 1 | 061 | 伯夷列传 | 061_伯夷列传.tagged.md |
| 2 | 062 | 管晏列传 | 062_管晏列传.tagged.md |
| 3 | 063 | 老子韩非列传 | 063_老子韩非列传.tagged.md |
| 4 | 064 | 司马穰苴列传 | 064_司马穰苴列传.tagged.md |
| 5 | 065 | 孙子吴起列传 | 065_孙子吴起列传.tagged.md |
| 6 | 066 | 伍子胥列传 | 066_伍子胥列传.tagged.md |
| 7 | 067 | 仲尼弟子列传 | 067_仲尼弟子列传.tagged.md |
| 8 | 068 | 商君列传 | 068_商君列传.tagged.md |
| 9 | 069 | 苏秦列传 | 069_苏秦列传.tagged.md |
| 10 | 070 | 张仪列传 | 070_张仪列传.tagged.md |
| 11 | 071 | 樗里子甘茂列传 | 071_樗里子甘茂列传.tagged.md |
| 12 | 072 | 穰侯列传 | 072_穰侯列传.tagged.md |
| 13 | 073 | 白起王翦列传 | 073_白起王翦列传.tagged.md |
| 14 | 074 | 孟子荀卿列传 | 074_孟子荀卿列传.tagged.md |
| 15 | 075 | 孟尝君列传 | 075_孟尝君列传.tagged.md |
| 16 | 076 | 平原君虞卿列传 | 076_平原君虞卿列传.tagged.md |
| 17 | 077 | 魏公子列传 | 077_魏公子列传.tagged.md |
| 18 | 078 | 春申君列传 | 078_春申君列传.tagged.md |
| 19 | 079 | 范睢蔡泽列传 | 079_范睢蔡泽列传.tagged.md |
| 20 | 080 | 乐毅列传 | 080_乐毅列传.tagged.md |

## 文档结构

### 标题层级
1. **一级标题**: `# [0] 列传名`
2. **二级标题**: `## 太史公曰` (在列传末尾)
3. **段落编号**: 使用 `[1]`, `[2]`, `[3]` 等圣经式编号

### 特殊内容标记
- **太史公曰**: 使用 `> [NOTE]` 块引用格式
- **对话内容**: 保持原文格式，进行实体标注
- **长篇论述**: 独立段落，使用NOTE块

## 实体标注规则

### 标注类型与符号

| 实体类型 | 标注符号 | 示例 |
|----------|----------|------|
| 人名 | `@人名@` | @伯夷@、@管仲@、@孔子@ |
| 地名 | `=地名=` | =齐=、=秦=、=燕= |
| 官职 | `$官职$` | $丞相$、$将军$、$大夫$ |
| 朝代/氏族 | `&朝代&` | &周&、&殷&、&春秋& |
| 族群/部落 | `~族群~` | ~山戎~、~北狄~ |
| 制度/典章 | `^制度^` | ^礼^、^政^、^法家^ |
| 器物/礼器 | `*器物*` | *鼎*、*剑*、*璧* |

### 实体词典统计

#### 人名 (主要人物)
- **列传主角**: 伯夷、叔齐、管仲、晏婴、老子、韩非、司马穰苴、孙武、孙膑、吴起、伍子胥、商鞅、苏秦、张仪、白起、王翦、孟子、荀子、孟尝君、平原君、信陵君、春申君、范睢、蔡泽、乐毅
- **孔门弟子**: 颜回、子贡、子路、子夏、子张、曾子
- **君主**: 齐桓公、秦孝公、秦昭王、燕昭王、赵武灵王、楚怀王
- **其他**: 鲍叔牙、毛遂、侯嬴、朱亥、田单

#### 地名
- **诸侯国**: 齐、鲁、晋、秦、楚、燕、赵、魏、韩、宋、卫、郑、陈、蔡
- **重要地点**: 咸阳、临淄、邯郸、大梁、长平、函谷关、武关
- **山川**: 黄河、长江、淮水、首阳山

#### 官职
- **高级官职**: 丞相、相国、将军、大将军、上将军、令尹
- **普通官职**: 大夫、上大夫、中大夫、郡守、县令
- **军职**: 左庶长、大良造、司马

## 处理特点

### 列传特征
1. **人物众多**: 每个列传记录多位历史人物的生平
2. **对话丰富**: 大量直接引语和对话内容
3. **事迹详实**: 详细记录人物的主要事迹和历史事件
4. **太史公评论**: 多数列传包含"太史公曰"评论部分

### 标注难点
1. **人名识别**: 同一人物有多种称呼(如:管仲/管夷吾、商鞅/卫鞅/公孙鞅)
2. **地名与国名**: 国名既可作为地名，也可作为朝代名
3. **官职与动词**: 避免将"相"等动词误标为官职
4. **姓氏问题**: 单字姓氏(如"乐")避免误标为其他实体

### 优化措施
1. **去重标注**: 使用正则表达式避免重复标注
2. **词典优化**: 移除易误标的单字词(如单独的"相"、"乐")
3. **长词优先**: 按词长从长到短排序，优先标注长词
4. **上下文保护**: 标注时检查前后字符，避免破坏已有标注

## 技术实现

### 处理工具
- **语言**: Python 3
- **脚本**: `scripts/process_liezhuan_061_080.py`
- **输入目录**: `/home/baojie/work/shiji-kb/docs/original_text/`
- **输出目录**: `/home/baojie/work/shiji-kb/chapter_md/`

### 核心功能
1. **实体词典管理**: 分类管理各类实体词典
2. **智能标注引擎**: 基于正则表达式的实体识别
3. **段落编号**: 自动生成圣经式段落编号
4. **结构化输出**: 生成符合规范的Markdown文档

## 质量验证

### 抽查结果
- ✓ 061_伯夷列传: 标注正确，结构完整
- ✓ 062_管晏列传: 人名、地名标注准确
- ✓ 067_仲尼弟子列传: 孔门弟子名称标注完整
- ✓ 069_苏秦列传: 长篇论述处理正确
- ✓ 073_白起王翦列传: 军事术语标注准确
- ✓ 075_孟尝君列传: 对话内容标注完整
- ✓ 080_乐毅列传: "乐"字姓氏处理正确

### 标注统计
- **人名标注**: 约1000+处
- **地名标注**: 约800+处
- **官职标注**: 约300+处
- **其他实体**: 约500+处

## 后续建议

### 进一步优化
1. **二次审校**: 人工审校关键章节，修正可能的误标
2. **词典扩充**: 根据实际文本补充遗漏的人名地名
3. **结构优化**: 为长篇列传添加更详细的二级标题
4. **交叉引用**: 建立人物、地名之间的交叉引用索引

### 应用方向
1. **知识图谱构建**: 基于标注数据构建史记知识图谱
2. **实体关系提取**: 分析人物、地点、事件之间的关系
3. **文本检索**: 基于实体标注实现精准检索
4. **可视化展示**: 生成交互式历史人物关系图

## 处理成果

### 文件统计
- **成功处理**: 20个章节
- **失败处理**: 0个章节
- **总行数**: 约2000+行标注文本
- **总字数**: 约80,000+字

### 文件路径
所有生成文件位于: `/home/baojie/work/shiji-kb/chapter_md/`

格式: `0XX_列传名.tagged.md`

---

**处理完成时间**: 2026-02-06

**处理工具版本**: v1.0

**处理者**: Claude Sonnet 4.5
